select date_format(date_sub(curdate(), interval tb.day day), '%Y%m%d') as date, (select count(hunter_read) from pos_resume where datediff(now(), hunter_read_time) = tb.day and hunter_read = 1 ) as hunter_read, (select count(hunter_confirm) from pos_resume where datediff(now(), hunter_confirm_time) = tb.day and hunter_confirm = 1 ) as hunter_confirm, (select count(hr_confirm) from pos_resume where datediff(now(), hr_confirm_time) = tb.day and hr_confirm = 1 ) as hr_confirm, (select count(boss_confirm) from pos_resume where datediff(now(), boss_confirm_time) = tb.day and boss_confirm = 1 ) as boss_confirm from tmp_table as tb group by tb.day;
